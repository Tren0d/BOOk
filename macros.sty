\ProvidesPackage{macros}

\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[hmargin=2cm, vmargin=2.5cm, tmargin=70pt, headsep=30pt, lmargin=2cm, rmargin=2cm, bmargin=80pt]{geometry}
\usepackage{tikz, fancyhdr, amssymb, amsmath, amsthm, tcolorbox, asymptote, hyperref, draftwatermark, lmodern}
\hypersetup{colorlinks, citecolor=black, filecolor=black, linkcolor=blue, urlcolor=black}

\SetWatermarkScale{1.5}
\SetWatermarkLightness{0.95}
\SetWatermarkText{BOOk}

\begin{asydef}
	defaultpen(fontsize(10pt));
	size(8cm); // set a reasonable default
	usepackage("amsmath");
	usepackage("amssymb");
	settings.tex="pdflatex";
	settings.outformat="pdf";
	// Replacement for olympiad+cse5 which is not standard
	import geometry;
	// recalibrate fill and filldraw for conics
	void filldraw(picture pic = currentpicture, conic g, pen fillpen=defaultpen, pen drawpen=defaultpen)
		{ filldraw(pic, (path) g, fillpen, drawpen); }
	void fill(picture pic = currentpicture, conic g, pen p=defaultpen)
		{ filldraw(pic, (path) g, p); }
	// some geometry
	pair foot(pair P, pair A, pair B) { return foot(triangle(A,B,P).VC); }
	pair orthocenter(pair A, pair B, pair C) { return orthocentercenter(A,B,C); }
	pair centroid(pair A, pair B, pair C) { return (A+B+C)/3; }
	// cse5 abbrevations
	path CP(pair P, pair A) { return circle(P, abs(A-P)); }
	path CR(pair P, real r) { return circle(P, r); }
	pair IP(path p, path q) { return intersectionpoints(p,q)[0]; }
	pair OP(path p, path q) { return intersectionpoints(p,q)[1]; }
	path Line(pair A, pair B, real a=0.6, real b=a) { return (a*(A-B)+A)--(b*(B-A)+B); }
	// cse5 more useful functions
	picture CC() {
		picture p=rotate(0)*currentpicture;
		currentpicture.erase();
		return p;
	}
	pair MP(Label s, pair A, pair B = plain.S, pen p = defaultpen) {
		Label L = s;
		L.s = "$"+s.s+"$";
		label(L, A, B, p);
		return A;
	}
	pair Drawing(Label s = "", pair A, pair B = plain.S, pen p = defaultpen) {
		dot(MP(s, A, B, p), p);
		return A;
	}
	path Drawing(path g, pen p = defaultpen, arrowbar ar = None) {
		draw(g, p, ar);
		return g;
	}
    
    void ddraw(path p, real x=0, real y=0, real r=0){
		draw(shift(x, y)*rotate(r)*p, linewidth(3.5)+white+miterjoin);
		draw(shift(x, y)*rotate(r)*p, linewidth(1.5)+miterjoin);
	}
\end{asydef}

\fancypagestyle{plain}{
    \fancyhf{}
    \fancyhead[ER,OL]{\thepage}
    \fancyhead[C]{Su\&Ti\&Am --- BOOk}
}

\fancypagestyle{fancy}{
    \fancyhf{}
    \fancyhead[C]{Su\&Ti\&Am --- BOOk}
    \fancyhead[EL]{\nouppercase\leftmark}
    \fancyhead[OR]{\nouppercase\rightmark}
    \fancyhead[ER,OL]{\thepage}
}

\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}

\newcommand{\NN}{\mathbb N}
\newcommand{\QQ}{\mathbb Q}
\newcommand{\RR}{\mathbb R}
\newcommand{\ZZ}{\mathbb Z}

\newtheoremstyle{style1}
{\topsep}                                          % measure of space to leave above the theorem. E.g.: 3pt
{\topsep}                                          % measure of space to leave below the theorem. E.g.: 3pt
{\itshape}                                         % name of font to use in the body of the theorem
{}                                                 % measure of space to indent
{\bfseries}                                        % name of head font
{\\}                                               % punctuation between head and body
{ }                                                % space after theorem head; " " = normal interword space
{\thmname{#1}\thmnumber{ #2}\textnormal{\thmnote{ \textbf{(#3)}}}}

\newtheoremstyle{style2}
{\topsep}
{\topsep}
{}
{}
{\bfseries}
{}
{ }
{\thmname{#1}\thmnumber{ #2}\textnormal{\thmnote{ \textbf{(#3)}}}}

\theoremstyle{style1}
\newtheorem{example_t}{Example}[section]

\theoremstyle{style2}
\newtheorem{problem}{Problem}[section]

\newtcolorbox{fact}{colback=green!5!white,colframe=green!75!black, arc=0mm}

\newenvironment{example}{
    \begin{tcolorbox}[colback=red!5!white,colframe=red!75!black]
        \begin{example_t}
            }{
        \end{example_t}
    \end{tcolorbox}
}

\newcommand{\sol}{\par \textbf{Solution:}\\}
\newcommand{\note}{\par $\rightarrow$ }
